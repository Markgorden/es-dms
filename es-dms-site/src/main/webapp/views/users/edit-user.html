<!--
  #%L
  es-dms-site
  %%
  Copyright (C) 2013 es-dms
  %%
  Copyright 2012-2013 Richard Louapre
  
  This file is part of ES-DMS.
  
  The current version of ES-DMS is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as
  published by the Free Software Foundation, either version 3 of the
  License, or (at your option) any later version.
  
  ES-DMS is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
  
  You should have received a copy of the GNU General Public
  License along with this program.  If not, see
  <http://www.gnu.org/licenses/gpl-3.0.html>.
  #L%
  -->
<div data-ng-controller="userEditController">
	<div class="modal-header">
		<button type="button" class="close" data-dismiss="modal"
			aria-hidden="true">&times;</button>
		<h3 data-ng-show="newUser">New user</h3>
		<h3 data-ng-hide="newUser">Edit User: {{ user.name }}</h3>
	</div>
	<div class="modal-body">
		<form class="form-horizontal">
			<div class="control-group">
        		<label class="control-label">Name:</label>
        		<div class="controls">
          			<input type="text" ng-model="user.name" ng-disabled="!newUser" placeholder="Name" autofocus="autofocus" />
        		</div>
      		</div>				
			<div class="control-group">
        		<label class="control-label">Email:</label>
        		<div class="controls">
          			<input type="text" ng-model="user.email" placeholder="Email" />
        		</div>
      		</div>				
			<div class="control-group">
        		<label class="control-label">City:</label>
        		<div class="controls">
          			<input type="text" ng-model="user.city" placeholder="City" />
        		</div>
      		</div>
			<div class="control-group">
        		<label class="control-label">Roles:</label>
        		<div class="controls">
        			<select multiple="multiple">
        				<option data-ng-repeat="role in user.roles">{{
            				role.id }}</option>
        			</select>
        		</div>
      		</div>
      		
      		<legend ng-hide="newUser">Change Password</legend>
			<div class="control-group{{pwError && ' error' || ''}}">
				<label class="control-label">Password:</label>
				<div class="controls">
					<div class="input-prepend">
						<span class="add-on"><i class="icon-lock"></i></span>
						<input type="password" data-ng-model="pw1" placeholder="Password" />
					</div>
				</div>
			</div>
			<div class="control-group{{pwError && ' error' || ''}}">
				<label class="control-label">Repeat Password:</label>
				<div class="controls">
					<div class="input-prepend">
						<span class="add-on"><i class="icon-lock"></i></span>
						<input type="password" data-ng-model="pw2" placeholder="Password" />
					</div>
			  </div>
			</div>

			<div class="control-group">
				<div class="controls">
      				<label class="checkbox">
						<input type="checkbox" value="disabled" data-ng-model="user.disabled"/> Disabled
					</label>
				</div>
			</div>
		</form>
	</div>
	<div class="modal-footer">
		<button type="button" class="btn" data-dismiss="modal">Close</button>
		<button class="btn btn-primary" data-dismiss="modal" ng-click="save()">Save</button>
	</div>
</div>
